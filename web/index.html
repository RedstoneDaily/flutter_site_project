<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <script
      src="https://tam.cdn-go.cn/aegis-sdk/latest/aegis.f.min.js"
      crossorigin="anonymous"
    ></script>
    <!-- Aegis Init-->
    <script>
      // Aegis 观测上报环境
      const AegisENVs = Object.freeze({
          // 生产环境
          prod: 'production',
          // 开发环境
          dev: 'development',
          // 灰度环境
          gray: 'gray',
          // 预发布环境
          pre: 'pre',
          // 日发布环境
          daily: 'daily',
          // 本地环境
          local: 'local',
          // 测试环境
          test: 'test',
          // 其他环境
          others: 'others'
      });
      let env = AegisENVs.prod;
      await fetch('/config.json').then(res => res.json()).then(config => {
        env = AegisENVs[config.aegis_env] || AegisENVs.prod;
      });

      // Generate UIN
      const UIN_Length = 10;
      let uin = '';
      for (let i = 0; i < UIN_Length; i++) {
        uin += Math.floor(Math.random() * 10);
      }
      uin = Date.now() + "-" + uin;

      if (typeof Aegis === 'function') {
        var aegis = new Aegis({
          // Env
          id: 'mZxy9hL2PY1GozZLD9',
          uin: uin,
          env: env,
          hostUrl: 'https://rumt-zh.com',

          // Speed Report
          reportApiSpeed: true,
          pagePerformance: true,
          reportAssetSpeed: true,
          speedSample: false,

          // Error Report
          onError: true,

          // SPA Set
          spa: true,

          // API
          api: {
            // Report
            apiDetail: true,
            reportRequest: true,
            websocketHack: true,
            usePerformanceTiming: true,

            // Trace Header
            // injectTraceHeader: 'traceparent',

            // Header Report
            // reqHeaders: ['traceparent'],
            resHeaders: ['content-type', 'server'],

            // Ignore URL
            // injectTraceIgnoreUrls: ['/gstatic.com/', '/bilibili.com/'],

            // RC Report
            // retCodeHandler(data, url, xhr) {

            // }
          }
        });
      }
    </script>
    <!--
      If you are serving your web app in a path other than the root, change the
      href value below to reflect the base path you are serving from.

      The path provided below has to start and end with a slash "/" in order for
      it to work correctly.

      For more details:
      * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

      This is a placeholder for base href that will be replaced by the value of
      the `--base-href` argument provided to `flutter build`.
    -->
    <base href="$FLUTTER_BASE_HREF" />

    <meta charset="UTF-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta
      name="description"
      content="红石日报（Redstone Daily）是一个开源非盈利项目，专注于收集和发布全网红石科技的最新进展。了解最新的红石科技动态，请访问我们的网站。"
    />
    <meta
      name="keywords"
      content="红石科技, 红石日报, 红石科技日报, 红石周报, 红石月报, 红石年报, 红石科技动态, 最新红石科技进展"
    />
    <meta name="referrer" content="never" />

    <!-- iOS meta tags & icons -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="redstone_daily_site" />
    <link rel="apple-touch-icon" type="image/svg+xml" href="favicon.svg" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />

    <title>红石日报 | Redstone Daily</title>
    <link rel="manifest" href="manifest.json" />
  </head>
  <body>
    <script src="flutter_bootstrap.js" async></script>
	加载中...
  </body>
</html>
